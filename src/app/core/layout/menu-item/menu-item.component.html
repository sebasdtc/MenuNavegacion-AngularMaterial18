<a mat-list-item class="!rounded-md mb-1"
          [routerLink]="item().routerLink"
          routerLinkActive
          #link="routerLinkActive"
          (click)="toggleNested()"
          [activated]="link.isActive">
          <mat-icon matListItemIcon>{{item().icon}}</mat-icon>
          <span>{{item().label}}</span>
          @if(item().subItems){
            <span matListItemMeta>
              @if(nestedMenuOpen()) {
                <mat-icon>expand_less</mat-icon>
              }@else {
                <mat-icon>expand_more</mat-icon>
              }
            </span>
          }
</a>

@if(item().subItems && nestedMenuOpen()) {
  <div class="w-100 ml-10">
    @for (subItem of item().subItems; track $index) {
      <a mat-list-item class="!rounded-md mb-1"
        [routerLink]="subItem.routerLink"
        routerLinkActive
        #link="routerLinkActive"
        [activated]="link.isActive"
        >
        <mat-icon matListItemIcon>{{subItem.icon}}</mat-icon>
        <span>{{subItem.label}}</span>
      </a>
    }
  </div>
}

